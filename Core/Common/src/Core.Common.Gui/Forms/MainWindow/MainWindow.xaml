<!--
Copyright (C) Stichting Deltares 2021. All rights reserved.

This file is part of Riskeer.

Riskeer is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with this program. If not, see <http://www.gnu.org/licenses/>.

All names, logos, and references to "Deltares" are registered trademarks of
Stichting Deltares and remain full property of Stichting Deltares at all times.
All rights reserved.
-->
<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
        xmlns:fluent="clr-namespace:Fluent;assembly=Fluent"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:commands="clr-namespace:Core.Common.Gui.Forms.MainWindow"
        xmlns:properties="clr-namespace:Core.Common.Gui.Properties"
    xmlns:viewHost="clr-namespace:Core.Common.Gui.Forms.ViewHost"
        mc:Ignorable="d" x:Class="Core.Common.Gui.Forms.MainWindow.MainWindow"
        Title="MainWindow" Height="768" Width="1024" Background="White" Foreground="Black" x:Name="Window"
        Icon="/Core.Common.Gui;component\Resources/Riskeer.ico"
    ResizeMode="CanResizeWithGrip"
    FlowDirection="LeftToRight"
    Loaded="MainWindow_OnLoaded">

    <Window.CommandBindings>
        <CommandBinding Command="New" Executed="OnFileNewClicked" />
        <CommandBinding Command="Save" Executed="OnFileSaveClicked" />
        <CommandBinding Command="SaveAs" Executed="OnFileSaveAsClicked" />
        <CommandBinding Command="Open" Executed="OnFileOpenClicked" />
        <CommandBinding Command="Close" Executed="OnFileExitClicked" />
        <CommandBinding Command="{x:Static commands:MainWindowCommands.CloseViewTabCommand}" Executed="CloseDocumentTab" CanExecute="CanCloseDocumentTab"/>
    </Window.CommandBindings>
    
    <Window.InputBindings>
        <KeyBinding Command="New" Key="N" Modifiers="Ctrl"/>
        <KeyBinding Command="Save" Key="S" Modifiers="Ctrl"/>
        <KeyBinding Command="SaveAs" Key="S" Modifiers="Ctrl + Shift" />
        <KeyBinding Command="Open" Key="O" Modifiers="Ctrl"/>
        <KeyBinding Command="Close" Key="F4" Modifiers="Alt"/>
        <KeyBinding Command="{x:Static commands:MainWindowCommands.CloseViewTabCommand}" Key="F4" Modifiers="Ctrl"/>
    </Window.InputBindings>

    <Window.Resources>
        <ResourceDictionary Source="/Fluent;Component/Themes/generic.xaml"/>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>

        <viewHost:AvalonDockViewHost Grid.Row="0" x:Name="AvalonDockViewHost" />

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="160"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0" Orientation="Horizontal">
                <ToggleButton Name="ButtonShowProperties" Width="30" ToolTip="{x:Static properties:Resources.Ribbon_Properties}" Click="ButtonShowProperties_Click">
                    <Image Source="/Core.Common.Gui;component\Resources\PropertiesHS.png" />
                </ToggleButton>
                <ToggleButton Name="ButtonShowMessages" Width="30" ToolTip="{x:Static properties:Resources.Ribbon_Messages}" Click="ButtonShowMessages_Click">
                    <Image Source="/Core.Common.Gui;component\Resources\application_view_list.png" />
                </ToggleButton>
            </StackPanel>
            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <Button Name="ButtonMenuFileNewProject"
                        ToolTip="{x:Static properties:Resources.Ribbon_Command_New}"
                        AutomationProperties.AutomationId="ButtonMenuFileNewProject"
                        AutomationProperties.Name="ButtonMenuFileNewProject"
                        Click="OnFileNewClicked"
                        x:FieldModifier="private">
                    <Image Source="/Core.Common.Gui;component\Resources\DocumentHS.png"/>
                </Button>
                <Button Name="ButtonMenuFileSaveProject"
                        ToolTip="{x:Static properties:Resources.Ribbon_Command_Save}"
                        Click="OnFileSaveClicked"
                        x:FieldModifier="private">
                    <Image Source="/Core.Common.Gui;component\Resources\saveHS.png"/>
                </Button>
                <Button Name="ButtonMenuFileSaveProjectAs"
                        ToolTip="{x:Static properties:Resources.Ribbon_Command_Save_As}"
                        AutomationProperties.AutomationId="ButtonMenuFileSaveProjectAs"
                        Click="OnFileSaveAsClicked"
                        x:FieldModifier="private">
                    <Image Source="/Core.Common.Gui;component\Resources\SaveAsHH.png"/>
                </Button>
                <Button Name="ButtonMenuFileOpenProject"
                        ToolTip="{x:Static properties:Resources.Ribbon_Command_Open}"
                        AutomationProperties.AutomationId= "ButtonMenuFileOpenProject"
                        Click="OnFileOpenClicked"
                        x:FieldModifier="private">
                    <Image Source="/Core.Common.Gui;component\Resources\openfolderHS.png"/>
                </Button>
            </StackPanel>
            <StackPanel Grid.Column="2" Orientation="Horizontal">
                <Button ToolTip="{x:Static properties:Resources.Ribbon_Show_Log}"
                        Click="OnFileHelpShowLog_Clicked">
                    <Image Source="/Core.Common.Gui;component\Resources\application_view_list.png"/>
                </Button>
                <Button Name="FileManualButton"
                        ToolTip="{x:Static properties:Resources.Ribbon_Open_Manual}"
                        Click="OnFileManual_Clicked"
                        x:FieldModifier="private">
                    <Image Source="/Core.Common.Gui;component\Resources\manual.png"/>
                </Button>
                <Button Name="AboutButton"
                        ToolTip="{x:Static properties:Resources.Ribbon_About}"
                        Click="OnAboutDialog_Clicked"
                        x:FieldModifier="private">
                    <Image Source="/Core.Common.Gui;component\Resources\information.png"/>
                </Button>
                <Button ToolTip="{x:Static properties:Resources.Ribbon_Exit}"
                        Click="OnFileExitClicked">
                    <Image Source="/Core.Common.Gui;component\Resources\ClosePreviewHH.png"/>
                </Button>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
