<?xml version="1.0" encoding="UTF-8"?><!--
Copyright (C) Stichting Deltares 2019. All rights reserved.

This file is part of Riskeer.

Riskeer is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see <http://www.gnu.org/licenses/>.

All names, logos, and references to "Deltares" are registered trademarks of
Stichting Deltares and remain full property of Stichting Deltares at all times.
All rights reserved.
-->
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">

  <!--Algemene structuur met configuratie, mappen en berekeningen.-->
  
  <!--Definitie voor het specificeren van een berekeningsscenario.-->
  <xs:include schemaLocation="ScenarioSchema.xsd"/>

  <!--Herdefinieer berekening, zodat deze de juiste inhoud heeft. Hierin
  wordt een keuze gegeven voor specificatie van een HB locatie of een 
  waterstand (handmatig gespecificeerde waterstand) vergelijkbaar met een
  piping berekening in Riskeer.-->
  <xs:redefine schemaLocation="ConfiguratieSchema.xsd">

    <xs:complexType name="configuratieType">
      <xs:complexContent>
        <xs:extension base="configuratieType">
          <xs:attribute name="versie" type="xs:int" use="required" fixed="1"/>
        </xs:extension>
      </xs:complexContent>
    </xs:complexType>

    <xs:complexType name="berekeningType">
      <xs:complexContent>
        <xs:extension base="berekeningType">
          <xs:all>
            <xs:element ref="toetsType"/>
            <xs:element ref="profielschematisatie" minOccurs="0"/>
            <xs:element ref="intredepunt" minOccurs="0"/>
            <xs:element ref="uittredepunt" minOccurs="0"/>
            <xs:element ref="ondergrondmodel" minOccurs="0"/>
            <xs:element ref="ondergrondschematisatie" minOccurs="0"/>
            <xs:element ref="stochasten" minOccurs="0"/>
            <xs:element ref="scenario" minOccurs="0"/>
          </xs:all>
        </xs:extension>
      </xs:complexContent>
    </xs:complexType>
  </xs:redefine>

  <!--Generieke definitie van stochasten voor alle toetssporen.-->
  <xs:redefine schemaLocation="StochastSchema.xsd">
    <xs:simpleType name="nameType">
      <xs:restriction base="nameType">
        <xs:enumeration value="binnendijksewaterstand"/>
        <xs:enumeration value="dempingsfactor"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:redefine>

  <!--Generieke definitie voor de standaardafwijking van een stochast.-->
  <xs:include schemaLocation="StochastStandaardafwijkingSchema.xsd"/>

  <!--Elementen die specifiek voor dit toetsspoor nodig zijn.-->

  <!--Specificeert de keuze van een semi-probabilistische of een probabilistische berekening.-->
  <xs:element name="toetsType" abstract="true" />

  <!--Specificeert de semi-probabilistische berekening. Indien dit element is opgenomen,
  mag geen probabilistsich worden opgenomen (en andersom).-->
  <xs:element name="semi-probabilistisch" substitutionGroup="toetsType">
    <xs:complexType>
      <xs:all>
        <xs:element ref="hblocatie-of-waterstand" minOccurs="0"/>
      </xs:all>
    </xs:complexType>
  </xs:element>

  <!--Specificeert de probabilistische berekening. Indien dit element is opgenomen,
  mag geen semi-probabilistsich worden opgenomen (en andersom).-->
  <xs:element name="probabilistisch" substitutionGroup="toetsType">
    <xs:complexType>
      <xs:all>
        <xs:element ref="hblocatie" minOccurs="0"/>
        <xs:element ref="doorsnedeillustratiepunteninlezen" minOccurs="0"/>
        <xs:element ref="vakillustratiepunteninlezen" minOccurs="0"/>
      </xs:all>
    </xs:complexType>
  </xs:element>

  <!--Specificeert de keuze van een HB locatie of een waterstand.-->
  <xs:element name="hblocatie-of-waterstand" abstract="true" />

  <!--Specificeert de handmatig ingevoerde waterstand. Indien dit element is
  opgenomen, mag geen HB locatie worden opgenomen (en anderson).-->
  <xs:element name="waterstand" substitutionGroup="hblocatie-of-waterstand" >
    <xs:simpleType>
      <xs:restriction base="xs:double"/>
    </xs:simpleType>
  </xs:element>

  <!--Specificeert de HB locatie. Indien dit element is opgenomen, mag geen 
  handmatig ingevoerde waterstand worden opgenomen (en andersom).-->
  <xs:element name="hblocatie" substitutionGroup="hblocatie-of-waterstand">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <!--In dit element moet de naam van de geselecteerde profielschematisatie zoals
  ook zichtbaar in Riskeer worden opgenomen.-->
  <xs:element name="profielschematisatie">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <!--Specificeert het gewenste intredepunt.-->
  <xs:element name="intredepunt">
    <xs:simpleType>
      <xs:restriction base="xs:double"/>
    </xs:simpleType>
  </xs:element>

  <!--Specificeert het gewenste uittredepunt.-->
  <xs:element name="uittredepunt">
    <xs:simpleType>
      <xs:restriction base="xs:double"/>
    </xs:simpleType>
  </xs:element>

  <!--In dit element moet de naam van het geselecteerde ondergrondmodel zoals ook 
  zichtbaar in Riskeer worden opgenomen.-->
  <xs:element name="ondergrondmodel">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <!--In dit element moet de naam van de geselecteerde ondergrondschematisatie zoals ook 
  zichtbaar in Riskeer worden opgenomen.-->
  <xs:element name="ondergrondschematisatie">
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:minLength value="1"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>

  <!--Geeft aan of de illustratiepunten ingelezen moeten worden bij het uitvoeren
  van een doorsnede sterkte berekening.-->
  <xs:element name="doorsnedeillustratiepunteninlezen">
    <xs:simpleType>
      <xs:restriction base="xs:boolean"/>
    </xs:simpleType>
  </xs:element>

  <!--Geeft aan of de illustratiepunten ingelezen moeten worden bij het uitvoeren
  van een vak sterkte berekening.-->
  <xs:element name="vakillustratiepunteninlezen">
    <xs:simpleType>
      <xs:restriction base="xs:boolean"/>
    </xs:simpleType>
  </xs:element>

</xs:schema>